name: ğŸš€ Build Flet Android App

on:
  workflow_dispatch:  # ØªØ´ØºÙŠÙ„ ÙŠØ¯ÙˆÙŠ
  push:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸ“¥ Checkout repository
      uses: actions/checkout@v4
      
    - name: ğŸ Setup Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.10'
        
    - name: ğŸ“¦ Install Flet
      run: pip install flet==0.22.0
        
    - name: ğŸ”§ Create app-info.txt
      run: |
        echo "ğŸ‰ ØªØ·Ø¨ÙŠÙ‚ Flet Ø¬Ø§Ù‡Ø²!" > app-info.txt
        echo "" >> app-info.txt
        echo "ğŸ“± **Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±:**" >> app-info.txt
        echo "https://raw.githubusercontent.com/${{ github.repository }}/main/main.py" >> app-info.txt
        echo "" >> app-info.txt
        echo "ğŸ“² **Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:**" >> app-info.txt
        echo "1. Ø­Ù…Ù„ ØªØ·Ø¨ÙŠÙ‚ 'Flet' Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±" >> app-info.txt
        echo "2. Ø§ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚" >> app-info.txt
        echo "3. Ø§Ù„ØµÙ‚ Ø§Ù„Ø±Ø§Ø¨Ø· Ø£Ø¹Ù„Ø§Ù‡" >> app-info.txt
        echo "4. Ø§Ø¶ØºØ· Connect" >> app-info.txt
        echo "" >> app-info.txt
        echo "ğŸ”— **Ø±ÙˆØ§Ø¨Ø· Ø¥Ø¶Ø§ÙÙŠØ©:**" >> app-info.txt
        echo "- ğŸ“¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯: https://github.com/${{ github.repository }}/archive/refs/heads/main.zip" >> app-info.txt
        echo "- ğŸŒ Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙˆØ¯: https://github.com/${{ github.repository }}" >> app-info.txt
        
    - name: ğŸ“„ Upload app information
      uses: actions/upload-artifact@v4
      with:
        name: flet-app-info
        path: app-info.txt
        retention-days: 1
        
    - name: ğŸ“± Display App Links
      run: |
        echo "========================================"
        echo "ğŸ¯ ØªØ·Ø¨ÙŠÙ‚ Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© - Flet"
        echo "========================================"
        echo ""
        echo "ğŸ“± Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ´ØºÙŠÙ„:"
        echo "https://raw.githubusercontent.com/${{ github.repository }}/main/main.py"
        echo ""
        echo "ğŸ’» Ù„Ù„ØªØ´ØºÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±:"
        echo "pip install flet"
        echo "python main.py"
        echo ""
        echo "ğŸ“¦ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…ØªØ§Ø­Ø© ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Artifacts"
        echo "========================================"
